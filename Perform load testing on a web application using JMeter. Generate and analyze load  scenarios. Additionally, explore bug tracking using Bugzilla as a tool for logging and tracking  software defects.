package p10;

import java.util.List;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxOptions;
import org.openqa.selenium.firefox.FirefoxProfile;
// Note: The import for ProfilesIni might not be needed if the related code remains commented out.
import org.openqa.selenium.firefox.internal.ProfilesIni;
import org.openqa.selenium.remote.DesiredCapabilities;


public class MultiCheckBox {
    
    // The driver path should be updated to match your system's location of geckodriver.exe
    static String driverPath = "C:\\Users\\Usman\\503\\geckodriver.exe";

    public static void main(String[] args) {
        System.setProperty("webdriver.gecko.driver", driverPath);
        
        // The following lines for capabilities and profiles are from the image,
        // but are often not needed for basic FirefoxDriver initialization.
        // DesiredCapabilities capabilities = DesiredCapabilities.firefox();
        // capabilities.setCapability("marionette", true);
        // ProfilesIni allProfiles = new ProfilesIni();
        // FirefoxProfile fp = new FirefoxProfile();
        // fp.setPreference(FirefoxProfile.PORT_PREFERENCE, "7055");
        // FirefoxOptions options = new FirefoxOptions();
        // options.setProfile(fp);

        WebDriver driver = new FirefoxDriver();

        // DYNAMIC URL (WEBSITE)
        String appUrl = "https://www.toolsqa.com/automation-practice-form/";
        // String appUrl = "file:///D:/Usman/College/503%20pracs/multicheckbox.html"; //STATIC URL(LOCAL FILE)

        driver.get(appUrl);

        List<WebElement> checkBoxes =
            driver.findElements(By.xpath("//input[@type='checkbox']"));
        
        int checkedCount = 0, uncheckedCount = 0;
        
        for (int i = 0; i < checkBoxes.size(); i++) {
            System.out.println(i + " checkbox is selected " + checkBoxes.get(i).isSelected());
            if (checkBoxes.get(i).isSelected()) {
                checkedCount++;
            } else {
                uncheckedCount++;
            }
        }
        
        // It's good practice to quit the driver to close the browser session.
        // driver.quit(); 
        
        System.out.println("No. of selected checkbox: " + checkedCount);
        System.out.println("No. of unselected checkbox: " + uncheckedCount);
    }
}
